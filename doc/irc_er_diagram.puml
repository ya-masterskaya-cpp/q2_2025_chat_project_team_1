@startuml
entity "User" as user {
  * id : int <<PK>>
  username : varchar
  password_hash : varchar
  registered_at : datetime
}
entity "Room" as room {
  * id : int <<PK>>
  name : varchar
  created_at : datetime
}
entity "Message" as message {
  * id : int <<PK>>
  user_id : int <<FK>>
  room_id : int <<FK>>
  text : text
  sent_at : datetime
}
entity "RoomMember" as member {
  * id : int <<PK>>
  room_id : int <<FK>>
  user_id : int <<FK>>
  joined_at : datetime
}
user ||--o{ message : writes
room ||--o{ message : contains
user ||--o{ member : is
room ||--o{ member : has
@enduml
